
.index-page {
    overflow: hidden;
}

.index-group:first-child {
    .teaser:first-child {
        margin-top: 0;
    }
}

.index-group-title-wrapper {
    margin-top: @gutter * 2;
    border-bottom: 2px solid @fg-color;

    .index-group-title-inner {
        .row-left();
    }
    .index-group-title-inner {
        .column;
    }
    h3 {
        display: inline-block;
        .font-aside-title;
        text-transform: uppercase;
        padding: @gutter * 0.3 @gutter * 0.75 @gutter * 0.2;
        border: 2px solid @fg-color;
        border-bottom: 0;
    }
}


.layout-nway-base {
    overflow: hidden;
    .teaser {
        float: left;
    }
}

.layout-oneway {

    .row;
    .teaser {
        overflow: hidden;
    }

    .teaser-image {
        .column;
        float: left;
        width: 100% / 12 * 8;
    }

    .teaser-info {
        .no-row;
        .column;
        padding-left: 0;
        float: left;
        width: 100% / 12 * 4;

        .teaser-content {
            .no-column;
        }

        .header-1 {
            .font-teaser-title-larger;
        }
        .header-2 {
            .font-teaser-subtitle-larger;
        }
    }
}

.layout-twoway {
    .layout-nway-base;
    .row;

    .teaser {
        .column;
        width: 50%;
    }
    .teaser-info {
        .no-row;
        .teaser-content {
            .no-column;
        }
        .header-1 {
            .font-teaser-title-smaller;
        }
        .header-2 {
            .font-teaser-subtitle-smaller;
        }
    }
}
.layout-twoway-uneven {
    .layout-nway-base;
    .row;

    .teaser {
        .column;
    }
    .teaser-info {
        .no-row;
        .teaser-content {
            .no-column;
        }
    }
    .teaser:nth-child(1) {
        width: (100% / 3) * 2;
    }
    .teaser:nth-child(2) {
        width: 100% / 3;
        .teaser-info {
            .header-1 {
                .font-teaser-title-smaller;
            }
            .header-2 {
                .font-teaser-subtitle-smaller;
            }
        }
    }
}

.layout-threeway {
    .layout-nway-base;
    .row;

    .teaser {
        .column;
        width: 100% / 3;
    }
    .teaser-info {
        .no-row;
        .teaser-content {
            .no-column;
        }
        .header-1 {
            .font-teaser-title-smaller;
        }
        .header-2 {
            .font-teaser-subtitle-smaller;
        }
    }
}


.layout-oneway-full,
.layout-threeway-full,
.layout-twoway-full {
    overflow: hidden;
    margin-top: 0;

    .teaser {
        float: left;
        position: relative;
    }
    .teaser-image {
        img {
            border: 0;
        }
        .label {
            display: none;
        }
    }
    .teaser-info {
        .no-row;

        .title {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            margin: 0;
            overflow: hidden;
            //.linear-gradient(bottom, rgba(0,0,0,.5) 0%, rgba(0,0,0,.1) 50%, rgba(0,0,0,.0) 100%;);
        }
        h1 {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            margin: 0;
            padding: @gutter * 0.5 @gutter @gutter * 1.5;
            .linear-gradient(left, rgba(0,0,0,.444) 0%, rgba(0,0,0,.111) 90%;);
            background-color: rgba(0,0,0,0.444);
            color: white;

            .header-1 {
                .font-teaser-invert-title;
            }
            .header-2 {
                .font-teaser-invert-subtitle;
            }
        }
        h1, .category, .contributor {
            text-shadow: rgba(0,0,0,.9) 0 0 3px;
        }
        .category {
            position: absolute;
            bottom: 0;
            color: @extra-light-fg-color;
            border-top: 1px solid @light-fg-color;

            &:hover {
                color: @df-color;
                border-top: 2px solid @df-color;
            }
        }
        .contributor {
            position: absolute;
            bottom: 0;
            right: @gutter * 0.5;
            color: @light-fg-color;
            border: 0;
        }
    }
}

.layout-oneway-full {
    .teaser-info {
        .title {
            h1 {
                text-align: center;
                background-color: rgba(0,0,0,0.222);
            }
            .header-1 {
                .font-teaser-invert-title-huge;
            }
            .header-2 {
                .font-teaser-invert-subtitle-huge;
            }
        }
        .category {
            left: 50%;
            .transform(translate(-50%, 0));
        }
    }
    @media (min-width: @break-m-landscape) {
        .teaser-info {
            .title {
                bottom: @gutter * 5;
                padding-bottom: @gutter * 1.5;
            }
            .category {
                bottom: @gutter * 7;
            }
        }
    }
}
.layout-twoway-full {
    .teaser {
        width: 50%;
    }
    .title h1 {
        background-color: rgba(0,0,0,0.333);
    }
}
.layout-threeway-full {
    .teaser {
        width: 100% / 3;
    }
    .teaser-info {
        h1 {
            .header-1 {
                .font-teaser-invert-title-smaller;
            }
            .header-2 {
                .font-teaser-invert-subtitle-smaller;
            }
        }
    }
}



@media (min-width: @break-m-portrait) {

    .index-page {
        padding-top: 0;
    }

    .index-group {
        margin-top: @gutter * 2;
        .teaser {
            margin-top: 0;
	      }

        &.chrono-oneway {
            .layout-oneway;
        }
        &.chrono-twoway.display-default {
            .layout-twoway;
        }
        &.chrono-twoway.display-uneven {
            .layout-twoway-uneven;
        }
        &.article-related-threeway,
        &.chrono-threeway {
            .layout-threeway;
        }

        &.tag-oneway,
        &.pinned-oneway {
            .layout-oneway-full;
        }
        &.tag-twoway,
        &.pinned-twoway {
            .layout-twoway-full;
        }
        &.tag-threeway,
        &.pinned-threeway {
            .layout-threeway-full;
        }
    }
}

@media (min-width: @break-xl) {

    .index-page {
        padding-top: 0;
    }
}