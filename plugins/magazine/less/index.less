
.index-page {
    overflow: hidden;
}


.index-group-title-wrapper {
    margin-top: @gutter * 2;
    border-bottom: 3px solid @fg-color;
    .index-group-title-inner {
        .row-left();
    }
    .index-group-title-inner {
        .column;
    }
    h3 {
        display: inline-block;
        .font-aside-title;
        text-transform: uppercase;
        padding: @gutter * 0.3 @gutter * 0.75 @gutter * 0.2;
        background-color: @fg-color;
        color: white;
    }
}


.layout-nway-base {
    display: table;
    height: 100%;

    .teaser {
        display: table-cell;
        vertical-align: top;
        height: 100%;
    }
    .teaser-inner {
        display: table;
        height: 100%;
    }
    .teaser-info {
        display: table-row;
        word-break: break-word;
        height: 100%;
        vertical-align: top;
    }
}

.layout-oneway {
    .teaser-inner {
        position: relative;
    }
    .teaser-image {
        .row;
        .teaser-content {
            .column;
        }
    }
    .teaser-info {
        position: absolute;
        bottom: @gutter * 2;
        background-color: white;
        padding-bottom: @gutter * 0.25;
        .header-1 {
            .font-teaser-title-larger;
        }
        .header-2 {
            .font-teaser-subtitle-larger;
        }
    }
}

.layout-twoway {
    .layout-nway-base;
    .row;

    .teaser {
        .column;
        width: 50%;
    }
    .teaser-info {
        .no-row;
        .teaser-content {
            .no-column;
        }
    }
}
.layout-twoway-uneven {
    .row;
    display: table;

    .teaser {
        .column;
        display: table-cell;
        vertical-align: top;
    }
    .teaser-info {
        .no-row;
        .teaser-content {
            .no-column;
        }
    }
    .teaser:nth-child(1) {
        width: (100% / 3) * 2;
    }
    .teaser:nth-child(2) {
        width: 100% / 3;
        .teaser-info {
            .header-1 {
                .font-teaser-title-smaller;
            }
            .header-2 {
                .font-teaser-subtitle-smaller;
            }
        }
    }
}

.layout-threeway {
    .layout-nway-base;
    .row;

    .teaser {
        .column;
        width: 100% / 3;
    }
    .teaser-info {
        .no-row;
        .teaser-content {
            .no-column;
        }
        .header-1 {
            .font-teaser-title-smaller;
        }
        .header-2 {
            .font-teaser-subtitle-smaller;
        }
    }
}


.layout-oneway-full,
.layout-threeway-full,
.layout-twoway-full {
    display: table;
    height: 100%;
    margin-top: 0;

    .teaser {
        display: table-cell;
        vertical-align: top;
        height: 100%;
        position: relative;
    }
    .teaser-image img {
        border: 0;
    }
    .teaser-info {
        .no-row;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        overflow: hidden;
        .linear-gradient(bottom, rgba(0,0,0,.5) 0%, rgba(0,0,0,.1) 50%, rgba(0,0,0,.0) 100%;);

        .title {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            margin: 0;
            padding: 0 @gutter @gutter;
            .linear-gradient(left, rgba(0,0,0,.333) 0%, rgba(0,0,0,.0) 90%;);
        }
        h1 {
            color: white;
            padding: @gutter * 0.5 0;
            text-shadow: rgba(0,0,0,.9) 0 0 3px;
        }
        .labels-wrapper {
            position: absolute;
            bottom: 0;
            z-index: 1;
            left: @gutter;
            right: @gutter;
        }
        .label {
            border-bottom: 0;
            border-top: 2px solid @df-color;
            color: @extra-extra-light-fg-color;
            background-color: transparent;

            &:first-child, &:only-child {
              padding-left: 0;
            }
            &:last-child, &:only-child {
              padding-right: 0;
            }
        }
        .contributor {
            position: absolute;
            bottom: 0;
            right: 0;
            padding: @gutter * 0.25 @gutter * 0.5 @gutter * 0.15;
            .font-teaser-label;
            color: @extra-light-fg-color;
            border: 0;
        }
    }
}

.layout-oneway-full {
    .teaser-info {
        .title {
            h1 {
                text-align: center;
            }
            .header-1 {
                .font-teaser-title-huge;
            }
            .header-2 {
                .font-teaser-subtitle-huge;
            }
        }
        .labels {
            left: 50%;
        }
        .label {
            .transform(translate(-50%, 0));
        }
    }
    @media (min-width: @break-m-landscape) {
        .teaser-info {
            .title {
                bottom: @gutter * 5;
            }
            .labels-wrapper {
                bottom: @gutter * 5;
            }
        }
    }
}
.layout-twoway-full {
    .teaser {
        width: 50%;
    }
    @media (min-width: @break-m-landscape) {
        .teaser-info {
            .title {
                padding-bottom: @gutter * 2;
            }
            .labels-wrapper {
                bottom: @gutter;
            }
        }
    }
}
.layout-threeway-full {
    .teaser {
        width: 100% / 3;
    }
    .teaser-info {
        .header-1 {
            .font-teaser-title-smaller;
        }
        .header-2 {
            .font-teaser-subtitle-smaller;
        }
    }
}



@media (min-width: @break-m-portrait) {

    .index-page {
        padding-top: 0;
    }

    .index-group {
        margin-top: @gutter * 2;
    }

    .teaser {
        width: 100%;
	  }

    .index-group {

        &.chrono-oneway {
            .layout-oneway;
        }
        &.chrono-twoway.display-default {
            .layout-twoway;
        }
        &.chrono-twoway.display-uneven {
            .layout-twoway-uneven;
        }
        &.article-related-threeway,
        &.chrono-threeway {
            .layout-threeway;
        }

        &.tag-oneway,
        &.pinned-oneway {
            .layout-oneway-full;
        }
        &.tag-twoway,
        &.pinned-twoway {
            .layout-twoway-full;
        }
        &.tag-threeway,
        &.pinned-threeway {
            .layout-threeway-full;
        }
    }
}

@media (min-width: @break-xl) {

    .index-page {
        padding-top: 0;
    }
}